"use strict";(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[2634],{82634:(e,t,i)=>{function n(e,t,i){return Math.min(Math.max(e,i),t)}function s(e){let t=!1;return function(){if(!t)return t=!0,window.requestAnimationFrame((()=>{t=!1,e()}))}}i.d(t,{g:()=>u});let o=0;const r=new Set;function c(e,t){if("onscrollend"in window)return e.addEventListener("scrollend",t),function(){e.removeEventListener("scrollend",t)};let i,n=0;function s(e){clearTimeout(n),n=setTimeout((()=>{r.size?setTimeout(s,100):(t(e),n=0)}),100)}return o||(i=function(){const e=e=>{for(let t of e.changedTouches)r.add(t.identifier)},t=e=>{for(let t of e.changedTouches)r.delete(t.identifier)};return document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("touchend",t,{passive:!0}),function(){r.clear(),document.removeEventListener("touchstart",e),document.removeEventListener("touchend",t)}}()),o+=1,e.addEventListener("scroll",s),function(){e.removeEventListener("scroll",s),o-=1,o||i()}}function h(e,t){this.x=window.scrollX,this.y=window.scrollY,requestAnimationFrame((()=>e&&e(t)))}function f(e){e.rect.width=window.document.documentElement.clientWidth,e.rect.height=window.document.documentElement.clientHeight}function a(e){let t,i,s,o,r,a=!1,u={x:e.rect.width/2,y:e.rect.height/2,vx:0,vy:0};const v={x:0,y:0};return e.scenes.forEach((t=>{t.target&&t.centeredToTarget&&(t.transform=function(e,t,i){return{x(n){const s=e.left-i.x+e.width/2,o=s>=t.width/2,r=2*(o?s:t.width-s);return(n-(o?0:s-r/2))/r},y(n){const s=e.top-i.y+e.height/2,o=s>=t.height/2,r=2*(o?s:t.height-s);return(n-(o?0:s-r/2))/r}}}(function(e){let t=e,i=0,n=0;if(t.offsetParent)do{i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent}while(t);return{left:i,top:n,width:e.offsetWidth,height:e.offsetHeight}}(t.target),e.rect,v),a=!0),e.root?i=function(e){const t=new ResizeObserver((t=>{t.forEach((t=>{e.rect.width=t.borderBoxSize[0].inlineSize,e.rect.height=t.borderBoxSize[0].blockSize}))}));return t.observe(e.root,{box:"border-box"}),t}(e):(s=f.bind(null,e),window.addEventListener("resize",s))})),t=function(t){for(let i of e.scenes)if(!i.disabled){const s=+n(0,1,i.transform?.x(t.x)||t.x/e.rect.width).toPrecision(4),o=+n(0,1,i.transform?.y(t.y)||t.y/e.rect.height).toPrecision(4),r={x:t.vx,y:t.vy};i.effect(i,{x:s,y:o},r,t.active)}Object.assign(u,t)},a&&(o=h.bind(v,t,u),r=c(document,o)),{tick:t,destroy:function(){e.scenes.forEach((e=>e.destroy?.())),r?.(),i?(i.disconnect(),i=null):(window.removeEventListener("resize",s),s=null),t=null,u=null}}}class u{constructor(e={}){let t;this.config={...e},this.effect=null,this._nextTick=null,this._nextTransitionTick=null,this._startTime=0,t=this.config.transitionDuration?this.config.noThrottle?()=>this.transition():s((()=>this.transition())):this.config.noThrottle?()=>(this.tick(),null):s((()=>{this.tick()})),this.config.rect=this.config.root?{width:this.config.root.offsetWidth,height:this.config.root.offsetHeight}:{width:window.document.documentElement.clientWidth,height:window.document.documentElement.clientHeight},this.progress={x:this.config.rect.width/2,y:this.config.rect.height/2,vx:0,vy:0},this.previousProgress={...this.progress},this.currentProgress=null;const i=e=>{Object.assign(this.previousProgress,this.currentProgress||this.progress),this.progress.x=this.config.root?e.offsetX:e.x,this.progress.y=this.config.root?e.offsetY:e.y,this.progress.vx=e.movementX,this.progress.vy=e.movementY,this._nextTick=t()};this._pointerLeave=()=>{this.progress.active=!1,this._nextTick=t()},this._pointerEnter=()=>{this.progress.active=!0,this._nextTick=t()};const n=window.devicePixelRatio;this.config.root?this._measure=e=>{if(e.target!==this.config.root){const t=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e.x*n,clientY:e.y*n,movementX:e.movementX,movementY:e.movementY});e.stopPropagation(),this.config.root.dispatchEvent(t)}else i(e)}:this._measure=i}start(){this.setupEffect(),this.setupEvent()}pause(){this.removeEvent()}tick(){this.effect.tick(this.progress)}transition(){const e=this.config.transitionDuration,t=this.config.transitionEasing||(e=>e),i=performance.now(),n=i=>{const s=(i-this._startTime)/e,o=t(Math.min(1,s));this.currentProgress=Object.entries(this.progress).reduce(((e,[t,i])=>(e[t]="active"===t?i:this.previousProgress[t]+(i-this.previousProgress[t])*o,e)),this.currentProgress||{}),s<1?this._nextTransitionTick=requestAnimationFrame(n):(this.currentProgress.vx=0,this.currentProgress.vy=0),this.effect.tick(this.currentProgress)};return this._startTime&&(this._nextTransitionTick&&cancelAnimationFrame(this._nextTransitionTick),n(i)),this._startTime=i,this._nextTransitionTick}destroy(){this.pause(),this.removeEffect(),this._nextTick&&cancelAnimationFrame(this._nextTick),this._nextTransitionTick&&cancelAnimationFrame(this._nextTransitionTick)}setupEvent(){this.removeEvent();const e=this.config.root||window;e.addEventListener("pointermove",this._measure,{passive:!0}),this.config.eventSource&&this.config.eventSource.addEventListener("pointermove",this._measure,{passive:!0}),this.config.allowActiveEvent&&(e.addEventListener("pointerleave",this._pointerLeave,{passive:!0}),e.addEventListener("pointerenter",this._pointerEnter,{passive:!0}),this.config.eventSource&&(this.config.eventSource.addEventListener("pointerleave",this._pointerLeave,{passive:!0}),this.config.eventSource.addEventListener("pointerenter",this._pointerEnter,{passive:!0})))}removeEvent(){const e=this.config.root||window;e.removeEventListener("pointermove",this._measure),this.config.eventSource&&this.config.eventSource.removeEventListener("pointermove",this._measure,{capture:!0}),this.config.allowActiveEvent&&(e.removeEventListener("pointerleave",this._pointerLeave),e.removeEventListener("pointerenter",this._pointerEnter),this.config.eventSource&&(this.config.eventSource.removeEventListener("pointerleave",this._pointerLeave),this.config.eventSource.removeEventListener("pointerenter",this._pointerEnter)))}setupEffect(){this.removeEffect(),this.effect=a(this.config)}removeEffect(){this.effect&&this.effect.destroy(),this.effect=null}}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/2634.9bf8ed8c.chunk.min.js.map